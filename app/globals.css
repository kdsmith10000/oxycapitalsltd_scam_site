@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 255, 255, 255;
  --background-start-rgb: 15, 15, 20;
  --background-end-rgb: 25, 25, 35;
}

/* Improve text rendering, prevent zoom, smooth scroll for better UX */
html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  scroll-behavior: smooth;
}

/* Respect reduced motion preferences (accessibility + Core Web Vitals) */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
  min-height: 100vh;
  /* Prevent horizontal overflow on mobile */
  overflow-x: hidden;
}

.gradient-text {
  background: linear-gradient(90deg, #ef4444, #f97316, #ef4444);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.card {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
}

.warning-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: .7;
  }
}

.evidence-img {
  transition: transform 0.3s ease;
  aspect-ratio: 16/10;
  object-fit: cover;
  /* CLS prevention: reserve space before image loads */
  background-color: rgba(255, 255, 255, 0.03);
  content-visibility: auto;
}

/* Optimize image rendering for evidence screenshots */
img {
  max-width: 100%;
  height: auto;
  /* Prevent layout shift */
  display: block;
}

/* Disable hover effects on touch devices */
@media (hover: hover) {
  .evidence-img:hover {
    transform: scale(1.02);
  }
}

.evidence-card {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.evidence-card img {
  flex-shrink: 0;
}

.evidence-card .caption {
  padding: 0.5rem 0.75rem;
  margin-top: auto;
}

/* Mobile-specific utilities */

/* Wallet address handling - break long addresses to wrap */
.wallet-address {
  word-break: break-all;
  overflow-wrap: anywhere;
}

/* Improved touch targets */
@media (max-width: 768px) {
  button, a, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Stack flex items vertically on mobile for better readability */
  .mobile-stack {
    flex-direction: column !important;
    align-items: stretch !important;
    gap: 0.75rem !important;
  }
  
  /* Full width buttons on mobile */
  .mobile-full-width {
    width: 100%;
  }
}

/* Typography adjustments for mobile */
@media (max-width: 640px) {
  /* Reduce large font sizes on very small screens */
  .text-5xl {
    font-size: 2.25rem;
    line-height: 2.5rem;
  }
  
  .text-7xl {
    font-size: 3rem;
    line-height: 1;
  }
  
  /* Reduce section padding on mobile */
  section {
    padding-left: 1rem;
    padding-right: 1rem;
  }
}

/* Lightbox mobile improvements */
@media (max-width: 768px) {
  .lightbox-close {
    top: 0.5rem !important;
    right: 0.5rem !important;
    font-size: 2.5rem !important;
    padding: 0.5rem;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 50%;
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

/* Prevent content from overflowing on mobile */
main {
  max-width: 100vw;
  overflow-x: hidden;
}

/* Code blocks should scroll horizontally on mobile */
code {
  word-break: break-all;
}

/* Improve nav on mobile */
nav {
  position: sticky;
  top: 0;
  z-index: 40;
}

/* Better spacing for mobile nav */
@media (max-width: 640px) {
  nav > div {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
  }
}

/* Grid improvements for mobile */
@media (max-width: 640px) {
  .grid-cols-2 {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
  
  .grid-cols-3 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
